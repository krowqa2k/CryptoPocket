//
//  CoinModel.swift
//  CryptoPocket
//
//  Created by Mateusz Krówczyński on 30/08/2024.
//

import Foundation

struct CoinModel: Identifiable, Codable {
    
    let id, symbol, name: String
    let image: String
    let currentPrice: Double
    let marketCap, marketCapRank: Double?
    let totalVolume, high24H, low24H: Double
    let priceChange24H, priceChangePercentage24H: Double
    let marketCapChange24H: Double?
    let marketCapChangePercentage24H: Double?
    let sparklineIn7D: SparklineIn7D?
    
    enum CodingKeys: String, CodingKey {
        case id, symbol, name, image
        case currentPrice = "current_price"
        case marketCap = "market_cap"
        case marketCapRank = "market_cap_rank"
        case totalVolume = "total_volume"
        case high24H = "high_24h"
        case low24H = "low_24h"
        case priceChange24H = "price_change_24h"
        case priceChangePercentage24H = "price_change_percentage_24h"
        case marketCapChange24H = "market_cap_change_24h"
        case marketCapChangePercentage24H = "market_cap_change_percentage_24h"
        case sparklineIn7D = "sparkline_in_7d"
    }
    
    static var mock: CoinModel {
        CoinModel(
            id: "bitcoin",
            symbol: "btc",
            name: "Bitcoin",
            image: "https://coin-images.coingecko.com/coins/images/1/large/bitcoin.png?1696501400",
            currentPrice: 60898,
            marketCap: 1202176836230,
            marketCapRank: 1,
            totalVolume: 35595543245,
            high24H: 61009,
            low24H: 57968,
            priceChange24H: 2155.47,
            priceChangePercentage24H: 3.66936,
            marketCapChange24H: 42049351821,
            marketCapChangePercentage24H: 3.62455,
            sparklineIn7D: SparklineIn7D(price: [
                60156.11580686031,
                60378.48716195032,
                60581.31818296415,
                61009.06324110357,
                60504.823970856516,
                60298.98500930787,
                59940.78387731009,
                59618.97215424849,
                59354.685622746576,
                59497.791836546916,
                59149.217467487586,
                59351.5794909728,
                59334.996626200795,
                59318.10565177023,
                59209.60566840913,
                59117.20462402248,
                58891.8031647288,
                58908.042334024576,
                59430.67236132807,
                59331.184522498166,
                59530.14622434213,
                59570.22358769405,
                59590.800285141915,
                59489.14125137412,
                59519.49120481671,
                59804.3532353648,
                58414.4028868584,
                58102.56612260241,
                58546.27666409159,
                58805.05511461276,
                59177.17540500815,
                58945.68972419615,
                59003.116887718024,
                59180.21629298589,
                59182.89284213509,
                59146.24979875298,
                59271.74724991423,
                59213.551753395084,
                59128.64459534604,
                59253.327959791764,
                59332.93325713423,
                59193.30300146088,
                59150.83975964007,
                59168.47919932165,
                59005.487686977234,
                58975.01623858652,
                59019.35217652168,
                59131.873659225435,
                59151.42498480989,
                59197.45730249457,
                59084.71856653795,
                59082.916196810635,
                58981.11791553521,
                58893.87165410129,
                59051.49057272925,
                58891.92517026088,
                58853.53926445986,
                58925.461969271746,
                59027.35485109313,
                58972.13921541655,
                59021.65251754194,
                58922.336373481114,
                58644.573706545554,
                58534.480695240316,
                58503.32213878224,
                58331.72698808311,
                58131.30807597719,
                58193.83008303418,
                58318.17819955592,
                58271.00932331365,
                58200.559267471,
                57995.47189871917,
                58253.180839153545,
                57995.987458535354,
                57744.186227203034,
                57883.88880512065,
                58139.9258201694,
                57943.3495960086,
                58147.22230395923,
                58533.92089209154,
                58607.98923019267,
                58168.06231803104,
                57637.83573404503,
                57383.549100481745,
                57423.47573048797,
                57478.32132172089,
                57639.47999990747,
                57660.6053771104,
                57715.35936374439,
                57627.09794275039,
                57778.35227320422,
                57701.59785865507,
                57557.045542139196,
                57989.956749165074,
                58444.2439600214,
                58410.307545954296,
                58361.898572657774,
                58389.63264298334,
                58189.0157041461,
                58611.971365503894,
                58574.54981135888,
                58352.56971842717,
                58468.85708149525,
                58493.30439764116,
                58564.85288879264,
                59245.901046591396,
                59081.894737399656,
                59231.01284443869,
                59116.72450306674,
                59387.948038510054,
                59522.41951320161,
                59320.34837813365,
                59101.41640164991,
                59029.26825418049,
                59014.71587794109,
                58958.44061193983,
                59093.98582741865,
                58856.27591419819,
                59032.872760216815,
                59037.52112338955,
                59220.85676099221,
                59228.65531821293,
                58102.7723974071,
                57820.0858422582,
                57817.938308376615,
                57748.66507488688,
                57784.356878454455,
                58167.34072631633,
                58181.32218165241,
                58208.6399239705,
                58045.417628622956,
                57786.55294435445,
                57813.69706883217,
                56160.11214505884,
                56618.69625548734,
                56780.01228562741,
                56619.156108408315,
                56670.89762145378,
                56403.90393632768,
                56578.869167875564,
                56689.10810974751,
                56734.14155966517,
                56472.8487542655,
                56522.61204502666,
                56627.70902517211,
                56551.269804683594,
                56471.709617939356,
                57576.97600585592,
                58120.08717111554,
                58393.35074858366,
                57822.842857142816,
                57761.163784722565,
                57983.83427211197,
                57995.679460486725,
                58183.50471420094,
                58140.1028915011,
                58087.76243010292,
                58011.60188693599,
                57749.22706431235,
                57676.00401788212,
                57249.670261443425,
                57155.08709783639,
                57063.580676781254,
                57164.44799899651,
                57163.90747340435,
                56990.33886814557,
                56709.122352946004,
                56762.03833637063
            ])
        )
    }
}

struct SparklineIn7D: Codable {
    let price: [Double]?
}
